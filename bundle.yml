# common references
___common___:
  - &external
    external: !!js/function >
      function (id) {
        return /^[a-z][\w-]/i.test(id)
      }
  - &disabled
    disableCjs: true
    disableReplace: true

# rollup bundle options
options:
  - input: ./lib/index.js
    output:
      - format: cjs
        name: ClairBundle
        file: ./dist/index.js
    <<: *external
    <<: *disabled

  - input: ./lib/bin.js
    output:
      - format: cjs
        file: ./bin/index
        banner: "#!/usr/bin/env node\n"
    <<: *external
    <<: *disabled
